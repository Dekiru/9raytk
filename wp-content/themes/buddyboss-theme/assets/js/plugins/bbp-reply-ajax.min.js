/*! 
 * BuddyBoss Theme JavaScript Library 
 * @package BuddyBoss Theme 
 */
jQuery(function(d){function t(e,r,o){var t={action:e,nonce:r};d.each(o,function(e,r){"action"===r.name?t.bbp_reply_form_action=r.value:t[r.name]=r.value}),d.post(window.bbpReplyAjaxJS.bbp_ajaxurl,t,function(e){if(e.success){d(".bbp-reply-form form").removeClass("submitting");var r="";if("edit"===e.reply_type)r='<li class="highlight">'+e.content+"</li>",d("#post-"+e.reply_id).parent("li").replaceWith(r);else if(window.bbpReplyAjaxJS.threaded_reply&&e.reply_parent&&e.reply_parent!==e.reply_id){var o=null,t="1";if(d("#post-"+e.reply_parent).parent("li").data("depth")==window.bbpReplyAjaxJS.threaded_reply_depth){var p=parseInt(window.bbpReplyAjaxJS.threaded_reply_depth)-1;o=d("#post-"+e.reply_parent).closest("li.depth-"+p),t=window.bbpReplyAjaxJS.threaded_reply_depth}else o=d("#post-"+e.reply_parent).parent("li"),t=parseInt(o.data("depth"))+1;var i="ul";d(".bb-single-reply-list").is("ol")&&(i="ol"),o.find(">"+i+".bbp-threaded-replies").length||o.append("<"+i+' class="bbp-threaded-replies"></'+i+">"),r='<li class="highlight depth-'+t+'" data-depth="'+t+'">'+e.content+"</li>",o.find(">"+i+".bbp-threaded-replies").append(r)}else r='<li class="highlight depth-1" data-depth="1">'+e.content+"</li>",d(".bb-single-reply-list").append(r);if(""!=r&&(d("body").animate({scrollTop:d(r).offset().top},500),setTimeout(function(){d(r).removeClass("highlight")},2e3)),"undefined"!=typeof bp&&void 0!==bp.Nouveau&&void 0!==bp.Nouveau.Media&&void 0!==bp.Nouveau.Media.dropzone_media&&bp.Nouveau.Media.dropzone_media.length)for(var n=0;n<bp.Nouveau.Media.dropzone_media.length;n++)bp.Nouveau.Media.dropzone_media[n].saved=!0;!function(){void 0!==window.forums_medium_reply_editor&&window.forums_medium_reply_editor.resetContent();jQuery("#bbp_editor_reply_content").removeClass("error"),d("#bbp-close-btn").trigger("click"),d("#bbp_reply_content").val(""),"undefined"!=typeof bp&&void 0!==bp.Nouveau&&void 0!==bp.Nouveau.Media&&(bp.Nouveau.Media.resetForumsGifComponent(),bp.Nouveau.Media.resetForumsMediaComponent())}();var a=d(".scrubberpost");for(var l in a)if(d(a[l]).hasClass("post-"+e.reply_id)){window.BuddyBossThemeBbpScrubber.goToPost(parseInt(l,10)+1,"");break}}else console.log(e),e.content||(e.content=window.bbpReplyAjaxJS.generic_ajax_error),console.log(e.content);d(".bbp-reply-form form").removeClass("submitting")})}d(".bbp-reply-form form").on("submit",function(e){if(e.preventDefault(),d(this).hasClass("submitting"))return!1;d(this).addClass("submitting");var r=!0,o=!1;void 0!==window.forums_medium_reply_editor&&(o=window.forums_medium_reply_editor),o&&""===d.trim(o.getContent().replace("<p><br></p>",""))?(jQuery("#bbp_editor_reply_content").addClass("error"),r=!1):o||""!==d.trim(d(".bbp-reply-form form").find("#bbp_reply_content").val())?(o&&jQuery("#bbp_editor_reply_content").removeClass("error"),d(".bbp-reply-form form").find("#bbp_reply_content").removeClass("error")):(d(".bbp-reply-form form").find("#bbp_reply_content").addClass("error"),r=!1),r?t("reply",window.bbpReplyAjaxJS.reply_nonce,d(this).serializeArray()):d(this).removeClass("submitting")})});